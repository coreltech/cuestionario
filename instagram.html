<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Cuestionario para servicios de Instagram. Creamos o mejoramos tu cuenta profesional.">
  <title>Cuestionario para Instagram | Coreltech</title>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">
  <!-- Favicon -->
  <link rel="icon" href="https://coreltech-it.vercel.app/assets/img/favicon.webp" type="image/webp">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    :root {
      --primary: #0066CC;
      --secondary: #00C9B1;
      --text: #2D3748;
      --light: #F8F9FC;
      --white: #FFFFFF;
      --border: #E2E8F0;
      --font-main: 'Poppins', sans-serif;
      --transition: all 0.3s ease;
      --font-size-base: 16px;
      --border-radius-base: 12px;
      --shadow: 0 10px 30px rgba(0,0,0,0.1);
      --shadow-hover: 0 15px 35px rgba(0,0,0,0.15);
    }
    body {
      font-family: var(--font-main);
      color: var(--text);
      background-color: var(--white);
      line-height: 1.6;
      font-size: var(--font-size-base);
    }
    .container {
      width: 90%;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }
    img {
      max-width: 100%;
      height: auto;
      display: block;
    }
    a {
      text-decoration: none;
      color: var(--primary);
      transition: color 0.3s ease;
    }
    a:hover {
      color: var(--secondary);
    }
    /* =========================
       = Hero Principal
       ========================= */
    .hero-landing {
      position: relative;
      min-height: 80vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: white;
      overflow: hidden;
      background: url('https://coreltech-it.vercel.app/assets/img/hero-tech.webp') center/cover no-repeat;
      border-bottom: 1px solid var(--border);
    }
    .hero-landing::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(
        to bottom,
        rgba(0, 0, 0, 0.3),
        rgba(0, 0, 0, 0.1)
      );
      z-index: 1;
    }
    .hero-content {
      position: relative;
      z-index: 2;
      max-width: 800px;
      padding: 2rem;
    }
    .hero-title {
      font-size: 3rem;
      font-weight: 700;
      line-height: 1.3;
      margin-bottom: 1.2rem;
      text-shadow: 0 2px 10px rgba(0,0,0,0.4);
    }
    .hero-subtitle {
      font-size: 1.3rem;
      margin-bottom: 2rem;
      text-shadow: 0 1px 5px rgba(0,0,0,0.4);
    }
    .btn-primary {
      display: inline-block;
      background-color: var(--primary);
      color: white;
      padding: 1rem 2.5rem;
      border-radius: var(--border-radius-base);
      font-size: 1.2rem;
      font-weight: 600;
      transition: var(--transition);
      margin: 0.5rem;
    }
    .btn-primary:hover {
      background-color: var(--secondary);
      transform: translateY(-3px);
      box-shadow: 0 10px 20px rgba(0, 201, 177, 0.3);
    }
    .btn-secondary {
      background-color: var(--white);
      color: var(--primary);
    }
    .btn-secondary:hover {
      background-color: #f0f0f0;
      color: var(--secondary);
    }
    /* =========================
       = Secciones del Cuestionario
       ========================= */
    .form-section {
      background: white;
      padding: 3rem 2rem;
      margin: 2rem auto;
      border-radius: var(--border-radius-base);
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      max-width: 1000px;
    }
    .section-title {
      font-size: 2rem;
      color: var(--primary);
      margin-bottom: 1.5rem;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .section-title::before {
      content: "";
      width: 12px;
      height: 12px;
      background: var(--secondary);
      border-radius: 50%;
    }
    label {
      display: block;
      font-weight: 500;
      color: #333;
      margin-top: 1.2rem;
      margin-bottom: 0.5rem;
    }
    .label-help {
      font-size: 0.9rem;
      color: #555;
      font-weight: normal;
      font-style: italic;
      margin-top: 0.3rem;
    }
    input, textarea, select {
      width: 100%;
      padding: 0.9rem;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 1rem;
      font-family: var(--font-main);
      background-color: #f9fafb;
    }
    input:focus, textarea:focus, select:focus {
      outline: none;
      border-color: var(--primary);
      background-color: white;
      box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
    }
    textarea {
      min-height: 120px;
      resize: vertical;
    }
    .checkbox-group {
      margin-top: 0.8rem;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1rem;
    }
    .checkbox-group label {
      font-weight: normal;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
    }
    .form-actions {
      text-align: center;
      margin-top: 2rem;
    }
    /* =========================
       = Footer Minimalista
       ========================= */
    .footer-minimal {
      text-align: center;
      font-size: 0.9rem;
      color: #777;
      background-color: var(--light);
      border-top: 1px solid var(--border);
      padding: 2.5rem 0;
      margin-top: 4rem;
    }
    @media (max-width: 768px) {
      .hero-title { font-size: 2.5rem; }
      .hero-subtitle { font-size: 1.1rem; }
      .form-section { padding: 2rem 1.5rem; }
      .btn-primary { padding: 0.9rem 2rem; font-size: 1rem; }
      .checkbox-group { grid-template-columns: 1fr; gap: 0.8rem; }
    }
  </style>
</head>
<body>

  <!-- 🎯 Hero Principal -->
  <section class="hero-landing">
    <div class="hero-content">
      <h1 class="hero-title">¿Quieres una cuenta de Instagram que venda?</h1>
      <p class="hero-subtitle">Completa este cuestionario para que entendamos tu marca y creemos una estrategia profesional.</p>
      <a href="#cuestionario" class="btn-primary">Comenzar Cuestionario</a>
      <a href="https://instagram.com/coreltechsoluciones" target="_blank" class="btn-primary btn-secondary">Ver nuestro Instagram</a>
    </div>
  </section>

  <!-- 📝 Cuestionario Instagram -->
  <section id="cuestionario" class="container">
    <form id="ig-form">

      <!-- Sección 1: Información -->
      <div class="form-section">
        <h2 class="section-title">1. Información del Cliente</h2>
        <label>Nombre *</label>
        <input type="text" name="nombre" required>
        <div class="label-help">quién tomará decisiones</div>

        <label>Empresa o marca *</label>
        <input type="text" name="marca" required>
        <div class="label-help">ej: ModaVenezuela, Clínica Salud Total</div>

        <label>Correo electrónico *</label>
        <input type="email" name="email" required>
        <div class="label-help">ej: contacto@empresa.com</div>

        <label>Teléfono</label>
        <input type="tel" name="telefono">
        <div class="label-help">ej: +58 414 582 8186</div>

        <label>¿Tienes cuenta de Instagram? *</label>
        <select name="tiene_cuenta" required>
          <option value="si">Sí, @____________</option>
          <option value="no">No, quiero crearla desde cero</option>
        </select>
      </div>

      <!-- Sección 2: Objetivo -->
      <div class="form-section">
        <h2 class="section-title">2. Objetivo de Instagram</h2>
        <label>¿Cuál es el propósito principal?</label>
        <select name="objetivo" required>
          <option value="vender">Vender productos o servicios</option>
          <option value="leads">Generar contactos o leads</option>
          <option value="marca">Aumentar reconocimiento de marca</option>
          <option value="influencer">Posicionar como experto o influencer</option>
          <option value="eventos">Promocionar eventos o lanzamientos</option>
          <option value="otro">Otro</option>
        </select>
        <div class="label-help">¿Qué debe hacer un seguidor? ej: visitar sitio, enviar DM, comprar</div>

        <label>¿Tienes un objetivo claro que quieras alcanzar?</label>
        <textarea name="objetivo_negocio" placeholder="ej: conseguir 100 seguidores reales en 30 días, vender 20 productos al mes..."></textarea>
      </div>

      <!-- Sección 3: Público Objetivo -->
      <div class="form-section">
        <h2 class="section-title">3. Tu Público Objetivo</h2>
        <label>Describe a tu cliente ideal:</label>
        <textarea name="publico_objetivo" placeholder="Edad, género, ubicación, intereses, problema que resuelves"></textarea>
        <div class="label-help">ej: Mujeres de 25-45 años, de clase media, interesadas en salud natural, en Venezuela y EE.UU.</div>

        <label>¿Dónde pasa más tiempo tu público?</label>
        <input type="text" name="canales_busqueda" placeholder="Instagram, TikTok, WhatsApp, Google...">
      </div>

      <!-- Sección 4: Contenido y Estilo -->
      <div class="form-section">
        <h2 class="section-title">4. Contenido y Estilo</h2>
        <label>¿Tienes fotos, videos o reels listos?</label>
        <select name="contenido_listo">
          <option value="si">Sí, todo listo</option>
          <option value="parcial">Parcialmente</option>
          <option value="no">No, necesito ayuda</option>
        </select>

        <label>¿Qué estilo prefieres?</label>
        <select name="estilo_deseado">
          <option value="profesional">Profesional y limpio</option>
          <option value="creativo">Creativo y artístico</option>
          <option value="divertido">Divertido y cercano</option>
          <option value="educativo">Educativo (tips, tutoriales)</option>
          <option value="detrás">Detrás de escena</option>
          <option value="otro">Otro</option>
        </select>

        <label>¿Tienes cuentas de referencia que te gusten? (@usuarios)</label>
        <input type="text" name="referencias">
        <div class="label-help">ej: @apple, @nike, @tuinspiracion</div>
      </div>

      <!-- Sección 5: Funcionalidades -->
      <div class="form-section">
        <h2 class="section-title">5. Funcionalidades</h2>
        <p style="color: #555; font-size: 0.95rem;">Selecciona lo que necesites:</p>
        <div class="checkbox-group">
          <label><input type="checkbox" name="funcionalidades" value="tienda"> Tienda en Instagram</label>
          <label><input type="checkbox" name="funcionalidades" value="reels"> Reels y videos cortos</label>
          <label><input type="checkbox" name="funcionalidades" value="historias"> Historias destacadas</label>
          <label><input type="checkbox" name="funcionalidades" value="programacion"> Programación de publicaciones</label>
          <label><input type="checkbox" name="funcionalidades" value="engagement"> Gestión de engagement</label>
          <label><input type="checkbox" name="funcionalidades" value="reportes"> Reportes de crecimiento</label>
        </div>
      </div>

      <!-- Sección 6: Plazos y Presupuesto -->
      <div class="form-section">
        <h2 class="section-title">6. Plazos y Presupuesto</h2>
        <label>¿Cuándo quieres que esté lista tu estrategia?</label>
        <input type="text" name="fecha_lanzamiento" placeholder="ej: antes de una campaña, para un lanzamiento...">
        <div class="label-help">¿Tienes un presupuesto aproximado en mente?</div>

        <select name="presupuesto">
          <option value="bajo">Menos de $300 USD</option>
          <option value="medio">$300 – $600 USD</option>
          <option value="alto">Más de $600 USD</option>
          <option value="no_se">Aún no lo sé</option>
        </select>
        <div class="label-help">No te preocupes si no lo tienes claro. Te enviaremos una propuesta ajustada.</div>
      </div>

      <!-- Botón de envío -->
      <div class="form-section form-actions">
        <button type="submit" class="btn-primary">Enviar Respuestas ✅</button>
        <p style="color: #777; margin-top: 1rem; font-size: 0.9rem;">
          Tus respuestas nos ayudarán a crear una estrategia de Instagram profesional para tu marca.
        </p>
      </div>

    </form>
  </section>

  <!-- 📌 Footer -->
  <footer class="footer-minimal">
    <div class="container">
      <p>&copy; <span id="year"></span> Coreltech IT Solutions. Todos los derechos reservados.</p>
    </div>
  </footer>

  <!-- ✅ PDF Template (oculto) -->
  <div id="pdf-template" style="display: none; font-family: 'Poppins', sans-serif; color: #2D3748; max-width: 800px; margin: 0 auto; padding: 2rem;">
    <div style="text-align: center; margin-bottom: 2rem; border-bottom: 1px solid #E2E8F0; padding-bottom: 1rem;">
      <h1 style="color: #0066CC; margin: 0;">Propuesta para Instagram</h1>
      <p style="color: #555; margin: 0;">Coreltech IT Solutions</p>
    </div>
    <div style="margin-bottom: 1.5rem;">
      <h3 style="color: #0066CC; margin-bottom: 0.5rem;">👋 Hola, <span id="pdf-nombre-cliente"></span></h3>
      <p>Gracias por completar el cuestionario. Basado en lo que nos compartiste, aquí tienes una propuesta para tu cuenta de Instagram.</p>
    </div>
    <div style="background: #E6F7FF; border-left: 4px solid #0066CC; padding: 1rem; border-radius: 8px; margin-bottom: 1.5rem;">
      <h4 style="margin-top: 0; color: #0066CC;">💡 Paquete Recomendado</h4>
      <h2 style="color: #0066CC; margin: 0;" id="pdf-paquete-nombre"></h2>
      <p style="font-size: 1.2rem; font-weight: 600; color: #006900;" id="pdf-paquete-precio"></p>
      <p id="pdf-paquete-descripcion"></p>
    </div>
    <div style="margin-bottom: 1.5rem;">
      <h4 style="color: #0066CC;">🔧 Servicios incluidos</h4>
      <ul id="pdf-funcionalidades" style="line-height: 1.6;"></ul>
    </div>
    <div style="margin-bottom: 1.5rem;">
      <h4 style="color: #0066CC;">📅 Plazos de Entrega</h4>
      <p>Tiempo estimado: <strong id="pdf-plazo">4-6 semanas</strong></p>
    </div>
    <div style="margin-bottom: 1.5rem;">
      <h4 style="color: #0066CC;">💰 Condiciones de Pago</h4>
      <p>• 50% al inicio del proyecto</p>
      <p>• 50% al entregar la estrategia</p>
      <p>Incluye capacitación básica y reportes mensuales</p>
    </div>
    <div style="text-align: center; margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #E2E8F0; color: #555;">
      <p>¿Listo para potenciar tu marca en Instagram? Confírmame y comenzamos.</p>
      <p style="font-size: 0.9rem;">&copy; <span id="pdf-year"></span> Coreltech IT Solutions. Todos los derechos reservados.</p>
    </div>
  </div>

  <!-- ✅ Firebase + Telegram + PDF -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
  <!-- 📄 Librería para generar PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

  <script>
    // 🔧 CONFIGURACIÓN DE FIREBASE
    const firebaseConfig = {
  apiKey: "AIzaSyB7FsIRbm9kKQP0e1phS-UiMyZfls0q9cU",
  authDomain: "coreltech-cuestionario.firebaseapp.com",
  projectId: "coreltech-cuestionario",
  storageBucket: "coreltech-cuestionario.firebasestorage.app",
  messagingSenderId: "808589924322",
  appId: "1:808589924322:web:d63956d26035a1033f4bbb"
};
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const BOT_TOKEN = '8473260169:AAH3-8fQ3zX2_ATYGmLXZWfLVxpTiOLiM5o';
    const CHAT_ID = '7523354646';

    async function enviarTelegram(mensaje) {
      try {
        await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ chat_id: CHAT_ID, text: mensaje, parse_mode: 'Markdown' })
        });
      } catch (error) {
        console.error('Error al enviar a Telegram:', error);
      }
    }

    // 🧮 Paquetes de servicios para Instagram
    const PAQUETES_IG = {
      basico: {
        nombre: "🟢 Básico",
        precio: "$290 USD",
        descripcion: "Optimización de perfil, 4 publicaciones, biografía profesional, enlace, historias destacadas."
      },
      medio: {
        nombre: "🟡 Medio",
        precio: "$550 USD",
        descripcion: "Contenido semanal, 8 publicaciones + 4 reels, programación, engagement, reportes mensuales."
      },
      avanzado: {
        nombre: "🔵 Avanzado",
        precio: "$950 USD",
        descripcion: "Estrategia completa: tienda en IG, contenido diario, anuncios, crecimiento, reportes semanales."
      }
    };

    // 🧠 Calcular paquete recomendado para Instagram
    function calcularPaqueteIG(funcionalidades) {
      if (!Array.isArray(funcionalidades)) return PAQUETES_IG.basico;
      const servicios = funcionalidades;
      const tieneTienda = servicios.includes('tienda');
      const tieneProgramacion = servicios.includes('programacion');
      const tieneReels = servicios.includes('reels');
      return tieneTienda || tieneProgramacion ? PAQUETES_IG.avanzado : tieneReels ? PAQUETES_IG.medio : PAQUETES_IG.basico;
    }

    // 📄 Generar PDF
    function generarPDF(entry, paquete) {
      document.getElementById('pdf-nombre-cliente').textContent = entry.nombre;
      document.getElementById('pdf-nombre-empresa').textContent = entry.marca;
      document.getElementById('pdf-email').textContent = entry.email;
      document.getElementById('pdf-paquete-nombre').textContent = paquete.nombre;
      document.getElementById('pdf-paquete-precio').textContent = paquete.precio;
      document.getElementById('pdf-paquete-descripcion').textContent = paquete.descripcion;
      document.getElementById('pdf-plazo').textContent = entry.fecha_lanzamiento || '4-6 semanas';

      const ul = document.getElementById('pdf-funcionalidades');
      ul.innerHTML = '';
      (entry.funcionalidades || []).forEach(f => {
        const li = document.createElement('li');
        li.textContent = f;
        ul.appendChild(li);
      });

      document.getElementById('pdf-year').textContent = new Date().getFullYear();

      const opt = {
        margin: 1,
        filename: `Propuesta-Instagram-${entry.marca.replace(/\s/g, '_')}.pdf`,
        image: { type: 'jpeg', quality: 0.98 },
        html2canvas: { scale: 2 },
        jsPDF: { unit: 'cm', format: 'a4', orientation: 'portrait' }
      };

      html2pdf().from(document.getElementById('pdf-template')).set(opt).save();
    }

    // 📥 Manejar envío del formulario
    document.getElementById('ig-form').addEventListener('submit', async function(e) {
      e.preventDefault();
      const form = e.target;
      const data = new FormData(form);
      const entry = Object.fromEntries(data);
      entry.funcionalidades = data.getAll('funcionalidades');
      const paquete = calcularPaqueteIG(entry.funcionalidades);

      try {
        await db.collection('leads-instagram').add({ ...entry, fecha: new Date(), paquete: paquete.nombre });

        const mensaje = `
📸 *NUEVO LEAD - INSTAGRAM*
👤 *Cliente:* ${entry.nombre}
🏢 *Marca:* ${entry.marca}
🎯 *Objetivo:* ${entry.objetivo}
🔧 *Funcionalidades:* ${entry.funcionalidades.join(', ') || 'Ninguna'}
💰 *Paquete Recomendado:* ${paquete.nombre}
💵 *Precio:* ${paquete.precio}
📩 *Email:* ${entry.email}
#Instagram #SocialMedia #${paquete.nombre.split(' ')[0]}

✅ *¿Enviar propuesta?*
👉 Revisa el panel: https://tusitio.vercel.app/admin
        `.trim();
        await enviarTelegram(mensaje);

        // ✅ Generar PDF automáticamente
        generarPDF(entry, paquete);

        form.reset();
      } catch (error) {
        alert('❌ Hubo un error. Escríbenos por WhatsApp.');
      }
    });

    document.getElementById("year").textContent = new Date().getFullYear();
  </script>
</body>
</html>